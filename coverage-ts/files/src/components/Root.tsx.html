
  <!DOCTYPE html>
  <html>
    <head>
      <title>Root.tsx</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">src/components/Root.tsx</td><td class="">100.00%</td><td class="">80%</td><td class="">214</td><td class="">214</td><td class="">0</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import { Badge } from &quot;@codegouvfr/react-dsfr/Badge&quot;
import { headerFooterDisplayItem } from &quot;@codegouvfr/react-dsfr/Display&quot;
import { Footer } from &quot;@codegouvfr/react-dsfr/Footer&quot;
import { Header } from &quot;@codegouvfr/react-dsfr/Header&quot;
import { useEffect, useState, useContext } from &quot;react&quot;
import { Navigate, Route, Routes } from &quot;react-router-dom&quot;
import { quickAccessItemsFunc } from &quot;../constants/header&quot;
import { navFunc } from &quot;../constants/router&quot;
import { Chatbot } from &quot;../pages/Chatbot&quot;
import { Contact } from &quot;../pages/Contact&quot;
import { History } from &quot;../pages/History&quot;
import { Home } from &quot;../pages/Home&quot;
import { Login } from &quot;../pages/Login&quot;
import { Meeting } from &quot;../pages/Meeting&quot;
import { NewPassword } from &quot;../pages/NewPassword&quot;
import { ResetPassword } from &quot;../pages/ResetPassword&quot;
import { Signup } from &quot;../pages/Signup&quot;
import { InitialUserAuth, UserAuth } from &quot;../utils/auth&quot;
import { useAppDispatch } from &quot;../utils/hooks&quot;
import { checkConnexion } from &quot;../utils/localStorage&quot;
import { isMFSContext } from &quot;../utils/context/isMFSContext&quot;
import Error404 from &quot;../pages/404&quot;
import { useApiUrls } from &quot;../constants/api&quot;

export const Root = () =&gt; {
	const navigationData = navFunc()
	const [userAuth, setUserAuth] = useState&lt;UserAuth&gt;(InitialUserAuth)
	const [authFailed, setAuthFailed] = useState(false)
	const dispatch = useAppDispatch()
	const [isLoading, setIsLoading] = useState(true)
	const isMFS = useContext(isMFSContext)
	const { userUrl, signoutUrl } = useApiUrls()

	console.log(&quot;isMFS&quot;, isMFS)
	useEffect(() =&gt; {
		checkConnexion(setUserAuth, userUrl).finally(() =&gt; setIsLoading(false))
	}, [dispatch])

	if (isLoading) {
		return &lt;div className=&quot;bg-red&quot;&gt;&lt;/div&gt;
	}

	return (
		&lt;div className=&quot;h-screen&quot; id=&quot;screen&quot;&gt;
			&lt;Header
				brandTop=&quot;DINUM / Etalab&quot;
				serviceTitle={
					&lt;&gt;
						ALBERT France services{&quot; &quot;}
						&lt;Badge as=&quot;span&quot; noIcon severity=&quot;success&quot;&gt;
							Beta
						&lt;/Badge&gt;
					&lt;/&gt;
				}
				serviceTagline=&quot;Aide à l’accompagnement des usagers France services&quot;
				homeLinkProps={{ title: &quot;Albert&quot; }}
				navigation={userAuth.isLogin &amp;&amp; navigationData}
				quickAccessItems={userAuth.isLogin ? quickAccessItemsFunc(userAuth, setUserAuth, signoutUrl) : []}
			/&gt;
			&lt;Routes&gt;
				&lt;Route
					path=&quot;/login&quot;
					element={
						!userAuth.isLogin ? (
							&lt;Login
								authFailed={authFailed}
								setAuthFailed={setAuthFailed}
								setUserAuth={setUserAuth}
							/&gt;
						) : (
							&lt;Navigate to=&quot;/home&quot; /&gt;
						)
					}
				/&gt;
				{isMFS ? (
					&lt;Route
						path=&quot;/meeting&quot;
						element={!userAuth.isLogin ? &lt;Navigate to=&quot;/login&quot; /&gt; : &lt;Meeting  /&gt;}
					/&gt;
				) : (
					&lt;Route path={&quot;/meeting&quot;} element={&lt;Navigate to=&quot;/404&quot; /&gt;} /&gt;
				)}
				&lt;Route path=&quot;/home&quot; element={!userAuth.isLogin ? &lt;Navigate to=&quot;/login&quot; /&gt; : &lt;Home /&gt;} /&gt;
				&lt;Route
					path=&quot;/&quot;
					element={!userAuth.isLogin ? &lt;Navigate to=&quot;/login&quot; /&gt; : &lt;Navigate to=&quot;/home&quot; /&gt;}
				/&gt;
				&lt;Route path=&quot;/404&quot; element={&lt;Error404 /&gt;} /&gt;
				{!isMFS ? (
					&lt;Route
						path=&quot;/chat&quot;
						element={!userAuth.isLogin ? &lt;Navigate to=&quot;/login&quot; /&gt; : &lt;Chatbot archive={false} /&gt;}
					/&gt;
				) : (
					&lt;Route path={&quot;/chat&quot;} element={&lt;Navigate to=&quot;/404&quot; /&gt;} /&gt;
				)}
				&lt;Route
					path=&quot;/contact&quot;
					element={
						!userAuth.isLogin ? &lt;Navigate to=&quot;/login&quot; /&gt; : &lt;Contact setUserAuth={setUserAuth} /&gt;
					}
				/&gt;
				&lt;Route
					path=&quot;/history&quot;
					element={!userAuth.isLogin ? &lt;Navigate to=&quot;/login&quot; /&gt; : &lt;History /&gt;}
				/&gt;
				&lt;Route
					path=&quot;/signup&quot;
					element={
						&lt;Signup
							authFailed={authFailed}
							setAuthFailed={setAuthFailed}
							userAuth={userAuth}
							setUserAuth={setUserAuth}
						/&gt;
					}
				/&gt;
				&lt;Route
					path=&quot;/reset-password&quot;
					element={
						&lt;ResetPassword
							setAuthFailed={setAuthFailed}
							userAuth={userAuth}
							setUserAuth={setUserAuth}
						/&gt;
					}
				/&gt;
				&lt;Route
					path=&quot;/new-password&quot;
					element={&lt;NewPassword authFailed={authFailed} setAuthFailed={setAuthFailed} /&gt;}
				/&gt;
				&lt;Route path=&quot;*&quot; element={&lt;Error404 /&gt;} /&gt;
			&lt;/Routes&gt;
			&lt;Footer
				bottomItems={[headerFooterDisplayItem]}
				accessibility=&quot;fully compliant&quot;
				termsLinkProps={{
					href: &quot;#&quot;,
				}}
			/&gt;
		&lt;/div&gt;
	)
}
</textarea><pre id="annotations" style="display:none">[]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Mon, 15 Jan 2024 20:27:43 GMT</p>
    </body>
  </html>
  