
  <!DOCTYPE html>
  <html>
    <head>
      <title>Root.tsx</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">src/components/Root.tsx</td><td class="">100.00%</td><td class="">80%</td><td class="">251</td><td class="">251</td><td class="">0</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import { Badge } from &#x27;@codegouvfr/react-dsfr/Badge&#x27;
import { headerFooterDisplayItem } from &#x27;@codegouvfr/react-dsfr/Display&#x27;
import { Footer } from &#x27;@codegouvfr/react-dsfr/Footer&#x27;
import { Header } from &#x27;@codegouvfr/react-dsfr/Header&#x27;
import { useContext, useEffect, useState } from &#x27;react&#x27;
import { Navigate, Route, Routes } from &#x27;react-router-dom&#x27;
import { useApiUrls } from &#x27;../constants/api&#x27;
import { quickAccessItemsFunc } from &#x27;../constants/header&#x27;
import { navFunc } from &#x27;../constants/router&#x27;
import Error404 from &#x27;../pages/404&#x27;
import { Chatbot } from &#x27;../pages/Chatbot&#x27;
import { Contact } from &#x27;../pages/Contact&#x27;
import { FAQ } from &#x27;../pages/FAQ&#x27;
import { History } from &#x27;../pages/History&#x27;
import { Home } from &#x27;../pages/Home&#x27;
import { Login } from &#x27;../pages/Login&#x27;
import { Meeting } from &#x27;../pages/Meeting&#x27;
import { NewPassword } from &#x27;../pages/NewPassword&#x27;
import { ResetPassword } from &#x27;../pages/ResetPassword&#x27;
import { Signup } from &#x27;../pages/Signup&#x27;
import { InitialUserAuth, UserAuth } from &#x27;../utils/auth&#x27;
import { isMFSContext } from &#x27;../utils/context/isMFSContext&#x27;
import { useAppDispatch } from &#x27;../utils/hooks&#x27;
import { checkConnexion } from &#x27;../utils/localStorage&#x27;

export const Root = () =&gt; {
  const navigationData = navFunc()
  const [userAuth, setUserAuth] = useState&lt;UserAuth&gt;(InitialUserAuth)
  const [authFailed, setAuthFailed] = useState(false)
  const dispatch = useAppDispatch()
  const [isLoading, setIsLoading] = useState(true)
  const isMFS = useContext(isMFSContext)
  const { userUrl, signoutUrl, apiBase } = useApiUrls()
  useEffect(() =&gt; {
    checkConnexion(setUserAuth, userUrl).finally(() =&gt; setIsLoading(false))
  }, [dispatch])

  if (isLoading) {
    return &lt;div&gt;&lt;/div&gt;
  }

  return (
    &lt;div className=&quot;h-screen w-screen flex-col justify-between  &quot; id=&quot;screen&quot;&gt;
      &lt;Header
        brandTop=&quot;DINUM / Etalab&quot;
        serviceTitle={
          &lt;&gt;
            ALBERT {isMFS ? &#x27;France services&#x27; : &#x27;Chat&#x27;}{&#x27; &#x27;}
            &lt;Badge as=&quot;span&quot; noIcon severity=&quot;success&quot;&gt;
              Beta
            &lt;/Badge&gt;
          &lt;/&gt;
        }
        serviceTagline={
          isMFS ? &#x27;Aide à l’accompagnement des usagers France services&#x27; : &#x27;&#x27;
        }
        homeLinkProps={{ title: &#x27;Albert&#x27;, href: &#x27;/&#x27; }}
        navigation={userAuth.isLogin &amp;&amp; navigationData}
        // @ts-expect-error TS(2322) FIXME: Type &#x27;({ iconId: string; linkProps: { style: { poi... Remove this comment to see the full error message
        quickAccessItems={
          userAuth.isLogin ? quickAccessItemsFunc(userAuth, setUserAuth, signoutUrl) : []
        }
      /&gt;
      &lt;Routes&gt;
        &lt;Route
          path=&quot;/login&quot;
          element={
            !userAuth.isLogin ? (
              &lt;Login
                authFailed={authFailed}
                setAuthFailed={setAuthFailed}
                setUserAuth={setUserAuth}
              /&gt;
            ) : (
              &lt;Navigate to=&quot;/home&quot; /&gt;
            )
          }
        /&gt;
        {isMFS ? (
          &lt;Route
            path=&quot;/FAQ&quot;
            element={!userAuth.isLogin ? &lt;Navigate to=&quot;/login&quot; /&gt; : &lt;FAQ /&gt;}
          /&gt;
        ) : (
          &lt;Route
            path={&#x27;/FAQ&#x27;}
            element={
              !userAuth.isLogin ? &lt;Navigate to=&quot;/login&quot; /&gt; : &lt;Navigate to=&quot;/404&quot; /&gt;
            }
          /&gt;
        )}{&#x27; &#x27;}
        {isMFS ? (
          &lt;Route
            path=&quot;/meeting&quot;
            element={!userAuth.isLogin ? &lt;Navigate to=&quot;/login&quot; /&gt; : &lt;Meeting /&gt;}
          /&gt;
        ) : (
          &lt;Route
            path={&#x27;/meeting&#x27;}
            element={
              !userAuth.isLogin ? &lt;Navigate to=&quot;/login&quot; /&gt; : &lt;Navigate to=&quot;/404&quot; /&gt;
            }
          /&gt;
        )}
        &lt;Route
          path=&quot;/home&quot;
          element={!userAuth.isLogin ? &lt;Navigate to=&quot;/login&quot; /&gt; : &lt;Home /&gt;}
        /&gt;
        &lt;Route
          path=&quot;/&quot;
          element={!userAuth.isLogin ? &lt;Navigate to=&quot;/login&quot; /&gt; : &lt;Navigate to=&quot;/home&quot; /&gt;}
        /&gt;
        &lt;Route path=&quot;/404&quot; element={&lt;Error404 /&gt;} /&gt;
        {!isMFS ? (
          &lt;Route
            path=&quot;/chat&quot;
            element={
              !userAuth.isLogin ? &lt;Navigate to=&quot;/login&quot; /&gt; : &lt;Chatbot archive={false} /&gt;
            }
          /&gt;
        ) : (
          &lt;Route
            path={&#x27;/chat&#x27;}
            element={
              !userAuth.isLogin ? &lt;Navigate to=&quot;/login&quot; /&gt; : &lt;Navigate to=&quot;/404&quot; /&gt;
            }
          /&gt;
        )}
        &lt;Route
          path=&quot;/contact&quot;
          element={
            !userAuth.isLogin ? (
              &lt;Navigate to=&quot;/login&quot; /&gt;
            ) : (
              &lt;Contact setUserAuth={setUserAuth} /&gt;
            )
          }
        /&gt;
        {isMFS ? (
          &lt;Route
            path=&quot;/history&quot;
            element={!userAuth.isLogin ? &lt;Navigate to=&quot;/login&quot; /&gt; : &lt;History /&gt;}
          /&gt;
        ) : (
          &lt;Route
            path={&#x27;/history&#x27;}
            element={
              !userAuth.isLogin ? &lt;Navigate to=&quot;/login&quot; /&gt; : &lt;Navigate to=&quot;/404&quot; /&gt;
            }
          /&gt;
        )}
        &lt;Route
          path=&quot;/signup&quot;
          element={
            &lt;Signup
              authFailed={authFailed}
              setAuthFailed={setAuthFailed}
              userAuth={userAuth}
              setUserAuth={setUserAuth}
            /&gt;
          }
        /&gt;
        &lt;Route
          path=&quot;/reset-password&quot;
          element={
            &lt;ResetPassword
              setAuthFailed={setAuthFailed}
              userAuth={userAuth}
              setUserAuth={setUserAuth}
            /&gt;
          }
        /&gt;
        &lt;Route
          path=&quot;/new-password&quot;
          element={&lt;NewPassword authFailed={authFailed} setAuthFailed={setAuthFailed} /&gt;}
        /&gt;
        &lt;Route path=&quot;*&quot; element={&lt;Error404 /&gt;} /&gt;
      &lt;/Routes&gt;
      &lt;Footer
        bottomItems={[headerFooterDisplayItem]}
        accessibility=&quot;partially compliant&quot;
        termsLinkProps={{
          href: &#x27;#&#x27;,
        }}
      /&gt;
    &lt;/div&gt;
  )
}
</textarea><pre id="annotations" style="display:none">[]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Wed, 28 Feb 2024 13:21:41 GMT</p>
    </body>
  </html>
  