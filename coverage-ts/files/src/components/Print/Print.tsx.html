
  <!DOCTYPE html>
  <html>
    <head>
      <title>Print.tsx</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">src/components/Print/Print.tsx</td><td class="">94.12%</td><td class="">80%</td><td class="">102</td><td class="">96</td><td class="">6</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import React, { useEffect, useState } from &quot;react&quot;
import { Button } from &quot;@codegouvfr/react-dsfr/Button&quot;
import ReactToPrint from &quot;react-to-print&quot;
import { Chatbot } from &quot;../../pages/Chatbot&quot;
import { MeetingPage } from &quot;../Meeting/MeetingPage&quot;
import { ArchiveType, Chat } from &quot;../../../types&quot;
import { useFetch } from &quot;../../utils/hooks&quot;
import { useApiUrls } from &quot;../../constants/api&quot;
import { preventDefaultLinkClickBehavior } from &quot;type-route&quot;

/**********************************************************************************************
		
	**	Print selected archive thanks to ReactToPrint OR go back to Archive summary

 **********************************************************************************************/

interface PrintProps {
	selectedChat: Chat
	setArchiveTab: React.Dispatch&lt;React.SetStateAction&lt;number | null&gt;&gt;
}

export const Print = React.forwardRef&lt;HTMLDivElement, PrintProps&gt;(
	({ selectedChat, setArchiveTab }, ref) =&gt; {
		const handleClick = () =&gt; {
			setArchiveTab(null)
		}
		window.addEventListener(&quot;popstate&quot;, () =&gt; {})
		const { getStreamsUrl } = useApiUrls()
		const [archive, setArchive] = useState&lt;ArchiveType&gt;()
		const token = localStorage.getItem(&quot;authToken&quot;)
		const [isLoading, setIsLoading] = useState(true)
		const getStreamsFromChat = async () =&gt; {
			const res = await useFetch(getStreamsUrl + `/${selectedChat.id}`, &quot;GET&quot;, {
				headers: {
					Authorization: `Bearer ${token}`,
				},
				data: null,
			})

			setArchive(res.streams[res.streams.length - 1])
			setIsLoading(false)
		}

		useEffect(() =&gt; {
			getStreamsFromChat()
		}, [])

		if (isLoading) return &lt;div&gt;loading...&lt;/div&gt;

		return (
			&lt;&gt;
				&lt;div className=&quot;flex w-screen&quot;&gt;
					&lt;Button
						iconId=&quot;fr-icon-arrow-left-s-line-double&quot;
						className=&quot;fr-mt-4w fr-ml-6w fr-mx-1w&quot;
						onClick={handleClick}
						priority=&quot;tertiary&quot;
					&gt;
						{&quot;&quot;}
					&lt;/Button&gt;
					&lt;ReactToPrint
						trigger={() =&gt; (
							&lt;Button iconId=&quot;fr-icon-printer-line&quot; className=&quot;fr-mt-4w&quot; priority=&quot;tertiary&quot;&gt;
								{&quot; &quot;}
							&lt;/Button&gt;
						)}
						content={() =&gt; (ref &amp;&amp; &quot;current&quot; in ref ? ref.current : null)}
					/&gt;
				&lt;/div&gt;
				&lt;div ref={ref as React.RefObject&lt;HTMLDivElement&gt;}&gt;
					{/* {selectedChat.type === &quot;qa&quot; &amp;&amp; &lt;Chatbot archive={archive} /&gt;}*/}
					{selectedChat.type === &quot;meeting&quot; &amp;&amp; (
						&lt;MeetingPage setGenerate={undefined} archive={archive} /&gt;
					)}
				&lt;/div&gt;
			&lt;/&gt;
		)
	}
)
</textarea><pre id="annotations" style="display:none">[{&quot;file&quot;:&quot;src/components/Print/Print.tsx&quot;,&quot;line&quot;:32,&quot;character&quot;:9,&quot;text&quot;:&quot;res&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/components/Print/Print.tsx&quot;,&quot;line&quot;:39,&quot;character&quot;:14,&quot;text&quot;:&quot;res&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/components/Print/Print.tsx&quot;,&quot;line&quot;:39,&quot;character&quot;:18,&quot;text&quot;:&quot;streams&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/components/Print/Print.tsx&quot;,&quot;line&quot;:39,&quot;character&quot;:26,&quot;text&quot;:&quot;res&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/components/Print/Print.tsx&quot;,&quot;line&quot;:39,&quot;character&quot;:30,&quot;text&quot;:&quot;streams&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/components/Print/Print.tsx&quot;,&quot;line&quot;:39,&quot;character&quot;:38,&quot;text&quot;:&quot;length&quot;,&quot;kind&quot;:1}]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Sun, 28 Jan 2024 15:29:25 GMT</p>
    </body>
  </html>
  