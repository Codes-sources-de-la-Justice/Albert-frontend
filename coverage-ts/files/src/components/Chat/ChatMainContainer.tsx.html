
  <!DOCTYPE html>
  <html>
    <head>
      <title>ChatMainContainer.tsx</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">src/components/Chat/ChatMainContainer.tsx</td><td class="">92.73%</td><td class="">80%</td><td class="">55</td><td class="">51</td><td class="">4</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import { useEffect } from &#x27;react&#x27;
import { useDispatch, useSelector } from &#x27;react-redux&#x27;
import { RootState } from &#x27;types&#x27;
import { scrollToBottom } from &#x27;../../utils/manageEffects&#x27;
import { UserMessage } from &#x27;../User/UserMessage&#x27;
import { ChatHeightContainer } from &#x27;./ChatHeightContainer&#x27;
import { ChatOverflowManagementContainer } from &#x27;./ChatOverflowManagementContainer&#x27;
import { Display } from &#x27;./Display&#x27;

// TODO WHEN BACK IS READY: change archive type
/*
 * ChatMainContainer: chat div between user &amp; agent
 * ChatAdditionalContainer: additional informations given to user as sheets
 * ChatOverflowManagementContainer: manage overflow of chat
 * ChatHeightContainer: manage height of chat
 * UserMessage: input for user
 * Display: display messages
 */
export function ChatMainContainer({
  archive,
  setGenerate,
}: { archive: boolean; setGenerate: any }) {
  const user = useSelector((state: RootState) =&gt; state.user)
  const stream = useSelector((state: RootState) =&gt; state.stream)
  const dispatch = useDispatch()

  useEffect(() =&gt; {
    !archive &amp;&amp; dispatch({ type: &#x27;RESET_USER&#x27; })
  }, [])

  // TODO: add feedback to scroll down
  useEffect(() =&gt; {
    scrollToBottom()
  }, [user, stream, dispatch])

  return (
    &lt;ChatHeightContainer&gt;
      &lt;ChatOverflowManagementContainer&gt;
        {archive ? (
          &lt;Display messages={[]} archive={true} /&gt;
        ) : (
          &lt;Display messages={user.messages} archive={false} /&gt;
        )}
      &lt;/ChatOverflowManagementContainer&gt;
      {!archive &amp;&amp; &lt;UserMessage setGenerate={setGenerate} chatType={&#x27;qa&#x27;} /&gt;}{&#x27; &#x27;}
      {/* Display input if not in archive */}
    &lt;/ChatHeightContainer&gt;
  )
}
</textarea><pre id="annotations" style="display:none">[{&quot;file&quot;:&quot;src/components/Chat/ChatMainContainer.tsx&quot;,&quot;line&quot;:20,&quot;character&quot;:2,&quot;text&quot;:&quot;setGenerate&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/components/Chat/ChatMainContainer.tsx&quot;,&quot;line&quot;:21,&quot;character&quot;:23,&quot;text&quot;:&quot;setGenerate&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/components/Chat/ChatMainContainer.tsx&quot;,&quot;line&quot;:44,&quot;character&quot;:32,&quot;text&quot;:&quot;setGenerate&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/components/Chat/ChatMainContainer.tsx&quot;,&quot;line&quot;:44,&quot;character&quot;:45,&quot;text&quot;:&quot;setGenerate&quot;,&quot;kind&quot;:1}]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Wed, 28 Feb 2024 13:21:41 GMT</p>
    </body>
  </html>
  